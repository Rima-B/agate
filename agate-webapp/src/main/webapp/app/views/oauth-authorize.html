<div>
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <h2 translate>oauth.title</h2>

      <div class="alert alert-danger" ng-show="authenticationError" translate="login.messages.error.authentication">
      </div>

      <div class="alert alert-danger" ng-if="error" translate="{{'oauth.' + error}}">
      </div>

      <div ng-if="!error">
        <p class="alert alert-info">
          <strong>{{client.name}}</strong> <span translate>oauth.grant-request</span> <strong>{{application.name}}</strong>
        </p>

        <div ng-if="client.description">
          <h4>{{client.name}}</h4>
          <p class="help-block">
            {{client.description}}
          </p>
        </div>

        <div ng-repeat="appScope in applicationScopes">
          <div ng-if="appScope.application.description">
            <h4>{{appScope.application.id}}</h4>
            <p class="help-block">
              {{appScope.application.description}}
            </p>
          </div>
          <div class="panel panel-default voffset4">
            <div class="panel-heading" translate>oauth.review-permissions</div>
            <div class="panel-body">
              <table class="table table-striped">
                <tr ng-repeat="scope in appScope.scopes">
                  <td ng-if="scope.name">
                    <span>{{scope.name}}</span>
                  </td>
                  <td>
                    <span ng-if="scope.description">{{scope.description}}</span>
                    <span ng-if="!scope.name && scope.application !== 'openid'" translate>oauth.all-permissions</span>
                    <span ng-if="scope.application === 'openid'" translate>oauth.openid-request</span>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <form name="decline" role="form" action="ws/oauth/decline" method="post" style="display: inline-block;">
              <input type="hidden" name="client_id" ng-value="auth.client_id">
              <input type="hidden" name="redirect_uri" ng-value="auth.redirect_uri">
              <input type="hidden" name="response_type" ng-value="auth.response_type">
              <input type="hidden" name="state" ng-value="auth.state">
              <input type="hidden" name="scope" ng-value="auth.scope">
              <button type="submit" class="btn btn-default">
                <span translate>oauth.decline</span>
              </button>
            </form>
            <form name="accept" role="form" action="ws/oauth/authz" method="get" style="display: inline-block;">
              <input type="hidden" name="client_id" ng-value="auth.client_id">
              <input type="hidden" name="redirect_uri" ng-value="auth.redirect_uri">
              <input type="hidden" name="response_type" ng-value="auth.response_type">
              <input type="hidden" name="state" ng-value="auth.state">
              <input type="hidden" name="scope" ng-value="auth.scope">
              <button type="submit" class="btn btn-primary">
                <span translate>oauth.accept</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3"></div>
  </div>
</div>
